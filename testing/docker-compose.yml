version: "3.7"

services:
  keycloak:
    image: quay.io/keycloak/keycloak:${KEYCLOAK_VERSION:-20.0.3}
    environment:
      - KEYCLOAK_IMPORT=/tmp/example-realm.json
    volumes:
      - ./example-realm.json:/tmp/example-realm.json
    ports:
      - 8081:8080
    command: start-dev

  frontend:
    image: nginx:1.23.3-alpine-slim
    volumes:
      - ./webapp:/usr/share/nginx/html:ro
    ports:
      - 8080:80
